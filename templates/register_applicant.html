<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internship Management System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='register_applicant.css') }}">
</head>
<body>
    {% if show_alert %}
    <script>
        alert("Please enter valid form fields.");
    </script>
    {% endif %}
    
    

<div class="background-split">
    <div class="left-side">
        <div class="logoimage">
            <img src="{{ url_for('static', filename='biglogo.png') }}" alt="LOGO">
        </div>
    </div>

    <div class="right-side">
        <header class="navbar">
            <nav>
                <a href="{{ url_for('home') }}">Home</a>
                <a href="{{ url_for('about') }}">About</a>
                <a href="{{ url_for('contact') }}">Contact</a>
                <a href="{{ url_for('login') }}" class="login-btn">Login</a>
            </nav>
        </header>

        <main class="body">
            <div class="content">
                <h2>Applicant Registration</h2>
                <form action="{{ url_for('register_applicant') }}" method="POST" enctype="multipart/form-data">
                    <!-- Step 1: Personal Details -->
                    <div class="form-step active" id="step-1">
                        <h3>Personal Details</h3>
                        <div class="form-group">
                            <label for="fname">First Name</label>
                            <input type="text" id="fname" name="fname" value="{{ form_data.fname if form_data and form_data.get('fname') }}">
                            {% if errors and errors.get('fname') %}
                                <span class="error">{{ errors.get('fname') }}</span>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="lname">Last Name</label>
                            <input type="text" id="lname" name="lname" value="{{ form_data.lname if form_data and form_data.get('lname') }}">
                            {% if errors and errors.get('lname') %}
                                <span class="error">{{ errors.get('lname') }}</span>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="dob">Date of Birth</label>
                            <input type="date" id="dob" name="dob" value="{{ form_data.dob if form_data and form_data.get('dob') }}">
                            {% if errors and errors.get('dob') %}
                                <span class="error">{{ errors.get('dob') }}</span>
                            {% endif %}
                        </div>
                        <button type="button" class="next-btn" onclick="nextStep(2)">Next</button>
                    </div>

                    <!-- Step 2: Contact Details -->
                    <div class="form-step" id="step-2">
                        <h3>Contact Details</h3>
                        <div class="form-group">
                            <label for="contact_no">Contact Number</label>
                            <input type="tel" id="contact_no" name="contact_no" pattern="[0-9]{10}" value="{{ form_data.contact_no if form_data and form_data.get('contact_no') }}">
                            {% if errors and errors.get('contact_no') %}
                                <span class="error">{{ errors.get('contact_no') }}</span>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" value="{{ form_data.email if form_data and form_data.get('email') }}">
                            {% if errors and errors.get('email') %}
                                <span class="error">{{ errors.get('email') }}</span>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="city">City</label>
                            <input type="text" id="city" name="city" value="{{ form_data.city if form_data and form_data.get('city') }}">
                            {% if errors and errors.get('city') %}
                                <span class="error">{{ errors.get('city') }}</span>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="state">State</label>
                            <input type="text" id="state" name="state" value="{{ form_data.state if form_data and form_data.get('state') }}">
                            {% if errors and errors.get('state') %}
                                <span class="error">{{ errors.get('state') }}</span>
                            {% endif %}
                        </div>
                        <button type="button" class="prev-btn" onclick="prevStep(1)">Back</button>
                        <button type="button" class="next-btn" onclick="nextStep(3)">Next</button>
                    </div>

                    <!-- Step 3: Password & Resume Upload -->
                    <div class="form-step" id="step-3">
                        <h3>Password & Resume</h3>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" id="password" name="password">
                            {% if errors and errors.get('password') %}
                                <span class="error">{{ errors.get('password') }}</span>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="confirm_password">Confirm Password</label>
                            <input type="password" id="confirm_password" name="confirm_password">
                            {% if errors and errors.get('confirm_password') %}
                                <span class="error">{{ errors.get('confirm_password') }}</span>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="resume_url">Upload Resume</label>
                            <input type="file" id="resume_url" name="resume_url" accept=".pdf,.doc,.docx">
                            {% if errors and errors.get('resume_url') %}
                                <span class="error">{{ errors.get('resume_url') }}</span>
                            {% endif %}
                        </div>
                        <button type="button" class="prev-btn" onclick="prevStep(2)">Back</button>
                        <button type="submit" class="submit-btn">Register</button>
                    </div>
                </form>
            </div>
        </main>
    </div>
</div>

<script>
    function nextStep(step) {
        document.querySelector(".form-step.active").classList.remove("active");
        document.getElementById("step-" + step).classList.add("active");
    }

    function prevStep(step) {
        document.querySelector(".form-step.active").classList.remove("active");
        document.getElementById("step-" + step).classList.add("active");
    }
</script>

</body>
</html>
